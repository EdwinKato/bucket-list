version: '2'

services:
#  db:
#    image: postgres
  api:
    build: ./backend
    command: python backend/manage.py runserver --host=0.0.0.0
    volumes:
      - .:/api
    ports:
      - "5000:5000"

  angular2: # name of the first service
    build: ./frontend # specify the directory of the Dockerfile
    command: npm start
    ports:
      - "3000:3000" # specify port
#    depends_on:
#      - db


#version: "3"
#
#services:
#
#  app:
#    build:
#      context: ../
#      dockerfile: docker/app.Dockerfile
#    ports:
#      - "5000:5000"
#    depends_on:
#      - db
#    networks:
#      - todo_backend
#
#  tests:
#    build:
#      context: ../
#      dockerfile: docker/tests.Dockerfile
#    ports:
#      - "80:8000"
#    depends_on:
#      - db
#      - app
#    networks:
#      - todo_backend
#
#  db:
#    image: postgres:9.5
#    restart: on-failure
#    environment:
#      POSTGRES_PASSWORD: changeme
#      POSTGRES_USER: docker
#      POSTGRES_DB: testdb
#    ports:
#      - "5432"
#    networks:
#      - todo_backend
#
#
#networks:
#  todo_backend:
#    driver: bridge